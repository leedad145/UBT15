!function(){function t(t,i,a){return i=n(i),function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return r(t)}(t,e()?Reflect.construct(i,a||[],n(t).constructor):i.apply(t,a))}function e(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(e=function(){return!!t})()}function n(t){return n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},n(t)}function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t,e){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},i(t,e)}function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,l(r.key),r)}}function s(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e,n){return(e=l(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:String(e)}System.register([],(function(e,n){"use strict";return{execute:function(){var e=s((function t(e){var n,r=this;u(this,t),c(this,"newInstance",(function(){return window.TiaraTracker.initTracker(),window.TiaraTracker.getInstance()})),c(this,"setCustomProps",(function(t){return r.TiaraInstance.customProps(t),r.customProps=t,r})),c(this,"setSection",(function(t){return r.TiaraInstance.setSection(t),r.section=t,r})),c(this,"setPage",(function(t){return r.TiaraInstance.setPage(t),r.page=t,r})),c(this,"setUrl",(function(t){return r.TiaraInstance.setUrl(t),r.url=t,r})),c(this,"setReferrer",(function(t){return r.TiaraInstance.setReferrer(t),r.referrer=t,r})),c(this,"setPageMeta",(function(t){return r.TiaraInstance.pageMeta(t),r.pageMeta=t,r})),c(this,"setTitle",(function(t){return r.TiaraInstance.setTitle(t),r.title=t,r})),c(this,"setKakaoAppKey",(function(t){return r.TiaraInstance.setKakaoAppKey(t),r.kakaoAppKey=t,r})),c(this,"setAppUserId",(function(t){return"null"===t||(r.TiaraInstance.setAppUserId(t),r.appUserId=t),r})),c(this,"setThirdProvideAgree",(function(t){return"null"===t||(r.TiaraInstance.setThirdProvideAgree(t),r.thirdProvideAgree=t),r})),c(this,"start",(function(t){return r.TiaraInstance.trackPage(t),r.TiaraInstance.setAutoClick(!0),r.TiaraInstance.track(),r})),this.TiaraInstance=this.newInstance(),this.svcDomain=e;var i=null===(n=window.T)||void 0===n||null===(n=n.config)||void 0===n?void 0:n.PHASE;this.TiaraInstance.init({svcDomain:e,adTrackId:!1,enableAlwaysHttpPost:!1,disableSendLegacy:!0,enableHash:!0,disableQuery:!1,trackDomain:"",deployment:"local"===i?"dev":"prod"===i?"production":i,autoClick:!1,kakaoAppKey:"",appUserId:"",thirdProvideAgree:""})})),n=s((function t(){var e=this;u(this,t),c(this,"get",(function(){return e.value})),c(this,"setId",(function(t){return e.value.id=t,e})),c(this,"setType",(function(t){return e.value.type=t,e})),c(this,"setName",(function(t){return e.value.name=t,e})),c(this,"setCategory",(function(t){return e.value.category=t,e})),c(this,"setCategoryId",(function(t){return e.value.category_id=t,e})),c(this,"setAuthor",(function(t){return e.value.author=t,e})),c(this,"setAuthorId",(function(t){return e.value.author_id=t,e})),c(this,"setImage",(function(t){return e.value.image=t,e})),c(this,"setPlink",(function(t){return e.value.plink=t,e})),c(this,"setTags",(function(t){return t&&Array.isArray(t)&&(e.value.tags=t.join(",")),e})),c(this,"getValue",(function(){return e.value})),this.value={}})),a=s((function t(){var e=this;u(this,t),c(this,"getMetaByData",(function(){var t,r=new n;return r.setId(e.key).setName(e.key).setType(null===(t=e.entry)||void 0===t?void 0:t.entryType),e.hasEntry&&r.setCategory(e.entry.serviceCategoryName).setCategoryId(e.entry.serviceCategoryId).setAuthor(e.entry.author).setAuthorId(e.entry.author).setPlink(e.entry.plink).setImage(e.entry.image).setName(e.entry.entryTitle).setTags(e.entry.tags),r.getValue()}));var r=window.tiara;this.svcDomain=r.svcDomain,this.section=r.section,this.page=r.page,this.trackPage=r.trackPage,this.customProps=r.customProps,this.entry=r.entry,this.kakaoAppKey=r.kakaoAppKey,this.appUserId=r.appUserId,this.thirdProvideAgree=r.thirdProvideAgree,this.key=r.key,this.hasEntry=!(!Object.prototype.hasOwnProperty.call(r,"entry")||!r.entry),this.meta=this.getMetaByData()})),l=function(t,e){return Object.keys(t).every((function(t){return e.includes(t)}))};function f(){return"글뷰"===window.tiara.page}function h(){return"블로그홈"===window.tiara.page}function p(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var g,y,d={exports:{}},m={exports:{}},v=function(t){return null!=t},b=v,w={object:!0,function:!0,undefined:!0},S=function(t){return!!b(t)&&hasOwnProperty.call(w,o(t))},P=function(t){if(!S(t))return!1;try{return!!t.constructor&&t.constructor.prototype===t}catch(e){return!1}},O=function(t){if("function"!=typeof t)return!1;if(!hasOwnProperty.call(t,"length"))return!1;try{if("number"!=typeof t.length)return!1;if("function"!=typeof t.call)return!1;if("function"!=typeof t.apply)return!1}catch(e){return!1}return!P(t)},T=/^\s*class[\s{/}]/,k=Function.prototype.toString;var j,I,_,A,D=function(t){return null!=t};function M(){return A||(A=1,_=(y?g:(y=1,g=function(){try{return Object.keys("primitive"),!0}catch(t){return!1}}))()?Object.keys:function(){if(I)return j;I=1;var t=D,e=Object.keys;return j=function(n){return e(t(n)?Object(n):n)}}()),_}var E,N,U=D,C=function(t){if(!U(t))throw new TypeError("Cannot use null or undefined");return t};var x,K,L=function(){var t,e=Object.assign;return"function"==typeof e&&(e(t={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),t.foo+t.bar+t.trzy==="razdwatrzy")}()?Object.assign:function(){if(N)return E;N=1;var t=M(),e=C,n=Math.max;return E=function(r,i){var o,a,s,u=n(arguments.length,2);for(r=Object(e(r)),s=function(t){try{r[t]=i[t]}catch(e){o||(o=e)}},a=1;a<u;++a)t(i=arguments[a]).forEach(s);if(void 0!==o)throw o;return r},E}(),F=D,z=Array.prototype.forEach,R=Object.create,H="razdwatrzy";var Y="function"==typeof H.contains&&!0===H.contains("dwa")&&!1===H.contains("foo")?String.prototype.contains:function(){if(K)return x;K=1;var t=String.prototype.indexOf;return x=function(e){return t.call(this,e,arguments[1])>-1},x}(),B=v,V=function(t){return!!O(t)&&!T.test(k.call(t))},Q=L,Z=function(t){var e=R(null);return z.call(arguments,(function(t){F(t)&&function(t,e){var n;for(n in t)e[n]=t[n]}(Object(t),e)})),e},q=Y,G=m.exports=function(t,e){var n,r,i,o,a;return arguments.length<2||"string"!=typeof t?(o=e,e=t,t=null):o=arguments[2],B(t)?(n=q.call(t,"c"),r=q.call(t,"e"),i=q.call(t,"w")):(n=i=!0,r=!1),a={value:e,configurable:n,enumerable:r,writable:i},o?Q(Z(o),a):a};G.gs=function(t,e,n){var r,i,o,a;return"string"!=typeof t?(o=n,n=e,e=t,t=null):o=arguments[3],B(e)?V(e)?B(n)?V(n)||(o=n,n=void 0):n=void 0:(o=e,e=n=void 0):e=void 0,B(t)?(r=q.call(t,"c"),i=q.call(t,"e")):(r=!0,i=!1),a={get:e,set:n,configurable:r,enumerable:i},o?Q(Z(o),a):a};var J,W,X=m.exports;var $,tt,et=function(){var t=Math.sign;return"function"==typeof t&&(1===t(10)&&-1===t(-20))}()?Math.sign:(W||(W=1,J=function(t){return t=Number(t),isNaN(t)||0===t?t:t>0?1:-1}),J),nt=et,rt=Math.abs,it=Math.floor,ot=function(t){return isNaN(t)?0:0!==(t=Number(t))&&isFinite(t)?nt(t)*it(rt(t)):t};var at,st,ut,ct,lt,ft,ht="function"==typeof"foo".repeat&&"foofoo"==="foo".repeat(2)?String.prototype.repeat:function(){if(tt)return $;tt=1;var t=C,e=ot;return $=function(n){var r,i=String(t(this));if((n=e(n))<0)throw new RangeError("Count must be >= 0");if(!isFinite(n))throw new RangeError("Count must be < ∞");for(r="";n;)n%2&&(r+=i),n>1&&(i+=i),n>>=1;return r},$}(),pt=ot,gt=C,yt=ht,dt=Math.abs,mt=Math.max,vt=ot,bt=Math.max,wt=function(t){return bt(0,vt(t))},St=function(t){var e=String(gt(this)),n=e.length,r=arguments[1];return r=isNaN(r)?1:pt(r),t=yt.call(String(t),dt(r)),r>=0?t.slice(0,mt(0,r-n))+e:e+(n+r>=0?"":t.slice(r+n))},Pt=wt,Ot=Number.prototype.toFixed,Tt=Object.prototype.toString,kt=Tt.call(new Date),jt=function(t){return t&&!isNaN(t)&&(t instanceof Date||Tt.call(t)===kt)||!1},It=Date.prototype.getMonth,_t=Date.prototype.getTime,At=Date.prototype.setHours,Dt=function(){return At.call(this,0,0,0,0),this},Mt=Dt,Et=function(){return Mt.call(this).setDate(1),this},Nt=Et,Ut=function(t){return"function"==typeof t},Ct=C,xt=Function.prototype.call,Kt=X,Lt=function(t){var e;return t=Pt(t),e=Pt(arguments[1]),St.call(e?Ot.call(this,e):this,"0",t+(e?1+e:0))},Ft=function(t){if(!jt(t))throw new TypeError(t+" is not valid Date object");return t},zt=function(){switch(It.call(this)){case 1:return this.getFullYear()%4?28:29;case 3:case 5:case 8:case 10:return 30;default:return 31}},Rt=function(){return new Date(_t.call(this))},Ht=Dt,Yt=Et,Bt=function(){return Nt.call(this).setMonth(0),this},Vt=ot,Qt=wt,Zt=D,qt=Math.abs;ft={y:function(){return String(qt(this.year))},m:function(){return Lt.call(qt(this.month),2)},d:function(){return Lt.call(qt(this.day),2)},H:function(){return Lt.call(qt(this.hour),2)},M:function(){return Lt.call(qt(this.minute),2)},S:function(){return Lt.call(qt(this.second),2)},L:function(){return Lt.call(qt(this.millisecond),3)},ms:function(){return String(qt(this.months))},ds:function(){return String(qt(this.days))},Hs:function(){return String(qt(this.hours))},Ms:function(){return String(qt(this.minutes))},Ss:function(){return String(qt(this.seconds))},Ls:function(){return String(qt(this.milliseconds))},sign:function(){return this.to<this.from?"-":""}},ft=Object(Ct(ft)),at=function(t){var e=this;return Ct(e),(t=String(t)).replace(/%([a-zA-Z]+)|\\([\u0000-\uffff])/g,(function(t,n,r){var i,o;if(r)return r;for(i=n;i&&!(o=ft[i]);)i=i.slice(0,-1);return o?(Ut(o)&&(o=xt.call(o,e)),o+n.slice(i.length)):t}))},lt=function(t){return t.to<t.from?{to:t.from,from:t.to,sign:-1}:{to:t.to,from:t.from,sign:1}},(ct=d.exports=function(t,e){if(!(this instanceof ct))return new ct(t,e);this.from=Ft(t),this.to=Zt(e)?Ft(e):new Date}).prototype=Object.create(Object.prototype,{valueOf:Kt(st=function(){return this.to-this.from}),millisecond:Kt.gs((function(){return this.milliseconds%1e3})),second:Kt.gs((function(){return this.seconds%60})),minute:Kt.gs((function(){return this.minutes%60})),hour:Kt.gs((function(){return this.hours%24})),day:Kt.gs((function(){var t,e=lt(this),n=e.to.getDate(),r=e.from.getDate(),i=e.to-Ht.call(Rt.call(e.to))>=e.from-Ht.call(Rt.call(e.from));return n>r?(t=n-r,i||--t,e.sign*t):n===r&&i?0:(t=i?n:n-1,t+=zt.call(e.from)-e.from.getDate(),e.sign*t)})),month:Kt.gs((function(){var t=lt(this);return t.sign*((12-t.from.getMonth()+t.to.getMonth())%12-(t.from-Yt.call(Rt.call(t.from))>t.to-Yt.call(Rt.call(t.to))))})),year:Kt.gs(ut=function(){var t=lt(this);return t.sign*(t.to.getFullYear()-t.from.getFullYear()-(t.from-Bt.call(Rt.call(t.from))>t.to-Bt.call(Rt.call(t.to))))}),milliseconds:Kt.gs(st,null),seconds:Kt.gs((function(){return Vt(this.valueOf()/1e3)})),minutes:Kt.gs((function(){return Vt(this.valueOf()/6e4)})),hours:Kt.gs((function(){return Vt(this.valueOf()/36e5)})),days:Kt.gs((function(){return Vt(this.valueOf()/864e5)})),months:Kt.gs((function(){var t=lt(this);return t.sign*(12*(t.to.getFullYear()-t.from.getFullYear())+t.to.getMonth()-t.from.getMonth()-(t.from-Yt.call(Rt.call(t.from))>t.to-Yt.call(Rt.call(t.to))))})),years:Kt.gs(ut),_resolveSign:Kt((function(t){return t&&this.to<this.from?"-":""})),_toStringDefaultDate:Kt((function(t,e,n){return!this.days&&t<0?this._resolveSign(n)+e:(t--<=0&&(e=qt(n=this.day)+"d"+(e?" ":"")+e),!this.months&&t<0||(t--<=0&&(e=qt(n=this.month)+"m"+(e?" ":"")+e),(this.years||t>=0)&&(e=qt(n=this.year)+"y"+(e?" ":"")+e)),this._resolveSign(n)+e)})),_toStringDefault:Kt((function(t){var e,n="";return t--<=0&&(n+="."+Lt.call(qt(e=this.millisecond),3)),!this.seconds&&t<0?this._resolveSign(e)+n:(t--<=0&&(e=this.second,n=(this.minutes?Lt.call(qt(e),2):qt(e))+n),!this.minutes&&t<0?this._resolveSign(e)+n:(t--<=0&&(e=this.minute,n=(this.hours||n?Lt.call(qt(e),2):qt(e))+(n?":":"")+n),!this.hours&&t<0?this._resolveSign(e)+n:(t--<=0&&(n=Lt.call(qt(e=this.hour),2)+(n?":":"")+n),this._toStringDefaultDate(t,n,e))))})),_toString1:Kt((function(t){var e,n=[];return t--<=0&&n.unshift(qt(e=this.millisecond)+"ms"),!this.seconds&&t<0?this._resolveSign(e)+n.join(" "):(t--<=0&&n.unshift(qt(e=this.second)+"s"),!this.minutes&&t<0?this._resolveSign(e)+n.join(" "):(t--<=0&&n.unshift(qt(e=this.minute)+"m"),!this.hours&&t<0?this._resolveSign(e)+n.join(" "):(t--<=0&&n.unshift(qt(e=this.hour)+"h"),!this.days&&t<0?this._resolveSign(e)+n.join(" "):(t--<=0&&n.unshift(qt(e=this.day)+"d"),!this.months&&t<0?this._resolveSign(e)+n.join(" "):(t--<=0&&n.unshift(qt(e=this.month)+"m"),!this.years&&t<0||n.unshift(qt(e=this.year)+"y"),this._resolveSign(e)+n.join(" "))))))})),toString:Kt((function(t){var e;return Zt(t)||(t=0),isNaN(t)?at.call(this,t):(t=Number(t),e=Qt(arguments[1]),1===t?this._toString1(e):this._toStringDefault(e))}))});var Gt,Jt,Wt,Xt,$t=p(d.exports),te=function(e){function n(e){var i;return u(this,n),c(r(i=t(this,n,[e])),"setUsage",(function(t){return i.TiaraInstance.usage(t),r(i)})),c(r(i),"start",(function(){f()?i.TiaraInstance.trackUsage("글 상세뷰 완독률"):h()?i.TiaraInstance.trackUsage("블로그홈_체류시간"):i.TiaraInstance.trackUsage(),i.TiaraInstance.track()})),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i(t,e)}(n,e),s(n)}(e);function ee(){if(Gt&&(f()||h())){var t=new $t(Xt,new Date).milliseconds,e=document.documentElement.scrollHeight,n=document.documentElement.clientHeight,r=window.scrollY,i=r+n;(Jt=new te(Wt.svcDomain)).setSection(Gt.section).setPage(Gt.page).setCustomProps(Gt.customProps).setPageMeta(Gt.pageMeta).setReferrer(Gt.referrer).setThirdProvideAgree(Wt.thirdProvideAgree).setUsage({duration:t,scroll_bottom:"".concat(i),scroll_height:"".concat(e),scroll_inner_height:"".concat(n),scroll_percent:"".concat(Math.round(i/e*100)),scroll_top:"".concat(r)}),Gt.url&&Jt.setUrl(Gt.url),Jt.start()}}function ne(t){if(t.detail&&l(t.detail,["url","prevLocation","currentLocation"])){Xt=new Date;var e=t.detail,n=e.url,r=e.prevLocation,i=e.currentLocation;r&&Object.prototype.hasOwnProperty.call(r,"pathname")&&Gt.setReferrer("".concat(n).concat(r.pathname)),i&&Object.prototype.hasOwnProperty.call(i,"pathname")&&Gt.setPage(i.pathname.replace("/","")).setUrl("".concat(n).concat(i.pathname)),Gt.start(Wt.trackPage),ee()}}window.addEventListener("load",(function(){Xt=new Date,Wt=new a,function(){Gt=new e(Wt.svcDomain),Object.prototype.hasOwnProperty.call(Wt,"page")&&Wt.page?Wt.page=Wt.page.replace("/","_"):Wt.page="default";Gt.setSection(Wt.section).setPage(Wt.page||"default").setCustomProps(Wt.customProps).setPageMeta(Wt.meta).setTitle(document.title).setKakaoAppKey(Wt.kakaoAppKey).setAppUserId(Wt.appUserId).setThirdProvideAgree(Wt.thirdProvideAgree).start(Wt.trackPage)}(),window.addEventListener("changeStateEvent",ne)})),window.addEventListener("beforeunload",(function(){ee(),window.removeEventListener("changeStateEvent",ne)}))}}}))}();
